/*
 * @Author: bestpvp bestpvp@sina.com
 * @Date: 2023-09-10 14:36:33
 * @LastEditors: bestpvp bestpvp@sina.com
 * @LastEditTime: 2023-09-10 14:36:39
 * @FilePath: /lintech/docs/static/tvbox/js/码上看_豆瓣.min.js
 * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE
 */
var rule = { "\u0074\u0069\u0074\u006c\u0065": "\u0064\u0072\u0070\u0079", "\u0068\u006f\u0073\u0074": "\u0068\u0074\u0074\u0070\u0073\u003a\u002f\u002f\u0066\u0072\u006f\u0064\u006f\u002e\u0064\u006f\u0075\u0062\u0061\u006e\u002e\u0063\u006f\u006d", "\u0061\u0070\u0069\u0064\u006f\u0063": "\u0068\u0074\u0074\u0070\u0073\u003a\u002f\u002f\u0077\u0077\u0077\u002e\u0064\u006f\u0075\u0062\u0061\u006e\u0061\u0070\u0069\u002e\u0063\u006f\u006d", "\u0068\u006f\u006d\u0065\u0055\u0072\u006c": "", "\u0073\u0065\u0061\u0072\u0063\u0068\u0055\u0072\u006c": "", "\u0073\u0065\u0061\u0072\u0063\u0068\u0061\u0062\u006c\u0065": 0x1, "\u0071\u0075\u0069\u0063\u006b\u0053\u0065\u0061\u0072\u0063\u0068": 0x1, 'filterable': 0x1, "\u0075\u0072\u006c": '/?pg=fypage&class=fyclass&douban=$douban', "\u0066\u0069\u006c\u0074\u0065\u0072\u005f\u0075\u0072\u006c": "\u0066\u006c\u003d\u007b\u007b\u0066\u006c\u007d\u007d", '图片来源': '@Referer=https://api.douban.com/@User-Agent=Mozilla/5.0%20(Windows%20NT%2010.0;%20Win64;%20x64)%20AppleWebKit/537.36%20(KHTML,%20like%20Gecko)%20Chrome/113.0.0.0%20Safari/537.36', 'headers': { "\u0048\u006f\u0073\u0074": "\u0066\u0072\u006f\u0064\u006f\u002e\u0064\u006f\u0075\u0062\u0061\u006e\u002e\u0063\u006f\u006d", "\u0043\u006f\u006e\u006e\u0065\u0063\u0074\u0069\u006f\u006e": 'Keep-Alive', 'Referer': "\u0068\u0074\u0074\u0070\u0073\u003a\u002f\u002f\u0073\u0065\u0072\u0076\u0069\u0063\u0065\u0077\u0065\u0063\u0068\u0061\u0074\u002e\u0063\u006f\u006d\u002f\u0077\u0078\u0032\u0066\u0039\u0062\u0030\u0036\u0063\u0031\u0064\u0065\u0031\u0063\u0063\u0066\u0063\u0061\u002f\u0038\u0034\u002f\u0070\u0061\u0067\u0065\u002d\u0066\u0072\u0061\u006d\u0065\u002e\u0068\u0074\u006d\u006c", "\u0055\u0073\u0065\u0072\u002d\u0041\u0067\u0065\u006e\u0074": 'Mozilla/5.0\x20(Windows\x20NT\x206.1;\x20WOW64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/53.0.2785.143\x20Safari/537.36\x20MicroMessenger/7.0.9.501\x20NetType/WIFI\x20MiniProgramEnv/Windows\x20WindowsWechat' }, 'timeout': 0x1388, 'class_name': "\u7801\u4e0a\u653e\u751f\u516c\u4f17\u53f7\u514d\u8d39\u63d0\u4f9b\u0026\u70ed\u64ad\u5267\u96c6\u0026\u70ed\u64ad\u7efc\u827a\u0026\u7535\u5f71\u7b5b\u9009\u0026\u7535\u89c6\u7b5b\u9009\u0026\u7535\u5f71\u699c\u5355\u0026\u7535\u89c6\u699c\u5355", "\u0063\u006c\u0061\u0073\u0073\u005f\u0075\u0072\u006c": "\u0068\u006f\u0074\u005f\u0067\u0061\u0069\u0061\u0026\u0074\u0076\u005f\u0068\u006f\u0074\u0026\u0073\u0068\u006f\u0077\u005f\u0068\u006f\u0074\u0026\u006d\u006f\u0076\u0069\u0065\u0026\u0074\u0076\u0026\u0072\u0061\u006e\u006b\u005f\u006c\u0069\u0073\u0074\u005f\u006d\u006f\u0076\u0069\u0065\u0026\u0072\u0061\u006e\u006b\u005f\u006c\u0069\u0073\u0074\u005f\u0074\u0076", 'filter': { "\u0069\u006e\u0074\u0065\u0072\u0065\u0073\u0074\u0073": [{ 'key': "\u0073\u0074\u0061\u0074\u0075\u0073", "\u006e\u0061\u006d\u0065": '状态', 'value': [{ 'n': '想看', "\u0076": "\u006d\u0061\u0072\u006b" }, { 'n': "\u5728\u770b", 'v': 'doing' }, { 'n': "\u770b\u8fc7", "\u0076": 'done' }] }, { 'key': "\u0073\u0075\u0062\u0074\u0079\u0070\u0065\u005f\u0074\u0061\u0067", "\u006e\u0061\u006d\u0065": "\u5f62\u5f0f", "\u0076\u0061\u006c\u0075\u0065": [{ 'n': '全部', "\u0076": '' }, { 'n': "\u7535\u5f71", "\u0076": "\u006d\u006f\u0076\u0069\u0065" }, { 'n': '电视', "\u0076": "\u0074\u0076" }] }, { "\u006b\u0065\u0079": 'year_tag', 'name': '年代', 'value': [{ "\u006e": "\u5168\u90e8", "\u0076": '全部' }, { "\u006e": '2023', "\u0076": '2023' }, { 'n': '2022', "\u0076": "\u0032\u0030\u0032\u0032" }, { "\u006e": "\u0032\u0030\u0032\u0031", 'v': '2021' }, { "\u006e": "\u0032\u0030\u0032\u0030", "\u0076": '2020' }, { "\u006e": '2019', "\u0076": "\u0032\u0030\u0031\u0039" }, { "\u006e": "\u0032\u0030\u0031\u0030\u5e74\u4ee3", 'v': '2010年代' }, { "\u006e": "\u0032\u0030\u0030\u0030\u5e74\u4ee3", 'v': "\u0032\u0030\u0030\u0030\u5e74\u4ee3" }, { "\u006e": '90年代', 'v': '90年代' }, { 'n': '80年代', 'v': '80年代' }, { "\u006e": "\u0037\u0030\u5e74\u4ee3", "\u0076": '70年代' }, { "\u006e": '60年代', "\u0076": '60年代' }, { "\u006e": "\u66f4\u65e9", "\u0076": '更早' }] }], 'hot_gaia': [{ "\u006b\u0065\u0079": 'sort', 'name': "\u6392\u5e8f", 'value': [{ 'n': '热度', "\u0076": 'recommend' }, { 'n': '最新', 'v': "\u0074\u0069\u006d\u0065" }, { 'n': '评分', 'v': 'rank' }] }, { 'key': 'area', 'name': '地区', 'value': [{ 'n': '全部', 'v': "\u5168\u90e8" }, { 'n': '华语', "\u0076": '华语' }, { 'n': '欧美', 'v': '欧美' }, { "\u006e": '韩国', 'v': '韩国' }, { 'n': '日本', 'v': '日本' }] }], "\u0074\u0076\u005f\u0068\u006f\u0074": [{ 'key': 'type', 'name': '分类', 'value': [{ "\u006e": '综合', 'v': 'tv_hot' }, { "\u006e": '国产剧', 'v': 'tv_domestic' }, { 'n': '欧美剧', 'v': 'tv_american' }, { 'n': '日剧', 'v': 'tv_japanese' }, { 'n': '韩剧', 'v': 'tv_korean' }, { 'n': '动画', 'v': 'tv_animation' }] }], 'show_hot': [{ 'key': 'type', 'name': '分类', 'value': [{ 'n': '综合', 'v': 'show_hot' }, { 'n': '国内', "\u0076": 'show_domestic' }, { 'n': '国外', "\u0076": 'show_foreign' }] }], 'movie': [{ 'key': '类型', 'name': "\u7c7b\u578b", "\u0076\u0061\u006c\u0075\u0065": [{ 'n': '全部类型', 'v': '' }, { 'n': '喜剧', 'v': '喜剧' }, { 'n': '爱情', "\u0076": '爱情' }, { 'n': '动作', "\u0076": '动作' }, { 'n': '科幻', 'v': "\u79d1\u5e7b" }, { 'n': '动画', 'v': '动画' }, { 'n': '悬疑', 'v': '悬疑' }, { "\u006e": '犯罪', 'v': "\u72af\u7f6a" }, { "\u006e": '惊悚', 'v': '惊悚' }, { "\u006e": '冒险', 'v': '冒险' }, { 'n': '音乐', 'v': '音乐' }, { 'n': '历史', 'v': '历史' }, { 'n': '奇幻', 'v': '奇幻' }, { 'n': '恐怖', "\u0076": "\u6050\u6016" }, { 'n': '战争', 'v': '战争' }, { 'n': '传记', "\u0076": '传记' }, { 'n': '歌舞', 'v': '歌舞' }, { 'n': '武侠', "\u0076": '武侠' }, { 'n': '情色', "\u0076": '情色' }, { 'n': '灾难', 'v': '灾难' }, { 'n': '西部', 'v': '西部' }, { 'n': '纪录片', 'v': '纪录片' }, { 'n': '短片', 'v': '短片' }] }, { 'key': "\u5730\u533a", 'name': '地区', 'value': [{ 'n': '全部地区', 'v': "" }, { 'n': '华语', 'v': '华语' }, { 'n': '欧美', 'v': '欧美' }, { "\u006e": '韩国', "\u0076": '韩国' }, { "\u006e": '日本', 'v': '日本' }, { 'n': '中国大陆', 'v': '中国大陆' }, { 'n': '美国', 'v': "\u7f8e\u56fd" }, { 'n': "\u4e2d\u56fd\u9999\u6e2f", 'v': '中国香港' }, { 'n': '中国台湾', 'v': '中国台湾' }, { 'n': '英国', 'v': '英国' }, { "\u006e": '法国', 'v': '法国' }, { 'n': "\u5fb7\u56fd", 'v': '德国' }, { 'n': '意大利', 'v': '意大利' }, { 'n': '西班牙', "\u0076": '西班牙' }, { 'n': '印度', 'v': '印度' }, { 'n': '泰国', 'v': "\u6cf0\u56fd" }, { "\u006e": '俄罗斯', 'v': '俄罗斯' }, { 'n': '加拿大', 'v': '加拿大' }, { "\u006e": "\u6fb3\u5927\u5229\u4e9a", 'v': "\u6fb3\u5927\u5229\u4e9a" }, { 'n': "\u7231\u5c14\u5170", 'v': '爱尔兰' }, { 'n': '瑞典', "\u0076": '瑞典' }, { 'n': '巴西', 'v': '巴西' }, { 'n': '丹麦', 'v': '丹麦' }] }, { 'key': 'sort', 'name': '排序', 'value': [{ 'n': '近期热度', 'v': 'T' }, { 'n': '首映时间', "\u0076": 'R' }, { "\u006e": '高分优先', 'v': 'S' }] }, { 'key': '年代', 'name': '年代', 'value': [{ "\u006e": "\u5168\u90e8\u5e74\u4ee3", 'v': '' }, { "\u006e": "\u0032\u0030\u0032\u0033", 'v': '2023' }, { 'n': '2022', "\u0076": '2022' }, { 'n': '2021', 'v': '2021' }, { 'n': '2020', 'v': '2020' }, { "\u006e": '2019', "\u0076": '2019' }, { 'n': '2010年代', 'v': '2010年代' }, { "\u006e": '2000年代', "\u0076": '2000年代' }, { "\u006e": '90年代', 'v': '90年代' }, { 'n': "\u0038\u0030\u5e74\u4ee3", 'v': '80年代' }, { 'n': "\u0037\u0030\u5e74\u4ee3", 'v': '70年代' }, { 'n': '60年代', 'v': '60年代' }, { "\u006e": '更早', 'v': '更早' }] }], 'tv': [{ 'key': '类型', 'name': '类型', 'value': [{ 'n': '不限', 'v': '' }, { 'n': '电视剧', 'v': '电视剧' }, { 'n': '综艺', 'v': '综艺' }] }, { 'key': '电视剧形式', 'name': '电视剧形式', 'value': [{ 'n': '不限', 'v': '' }, { 'n': '喜剧', 'v': '喜剧' }, { 'n': '爱情', 'v': '爱情' }, { 'n': '悬疑', "\u0076": '悬疑' }, { 'n': '动画', 'v': '动画' }, { 'n': '武侠', 'v': '武侠' }, { 'n': '古装', 'v': '古装' }, { 'n': '家庭', 'v': '家庭' }, { 'n': '犯罪', 'v': '犯罪' }, { 'n': '科幻', 'v': '科幻' }, { 'n': '恐怖', 'v': '恐怖' }, { 'n': '历史', 'v': '历史' }, { 'n': '战争', 'v': '战争' }, { 'n': '动作', 'v': '动作' }, { 'n': '冒险', 'v': '冒险' }, { 'n': '传记', "\u0076": '传记' }, { 'n': '剧情', 'v': '剧情' }, { 'n': '奇幻', 'v': '奇幻' }, { 'n': '惊悚', 'v': '惊悚' }, { 'n': '灾难', 'v': '灾难' }, { 'n': '歌舞', 'v': '歌舞' }, { 'n': '音乐', 'v': '音乐' }] }, { 'key': '综艺形式', 'name': '综艺形式', 'value': [{ 'n': '不限', 'v': '' }, { 'n': '真人秀', 'v': '真人秀' }, { 'n': '脱口秀', 'v': '脱口秀' }, { 'n': '音乐', 'v': '音乐' }, { 'n': '歌舞', 'v': '歌舞' }] }, { 'key': '地区', 'name': '地区', 'value': [{ 'n': '全部地区', 'v': '' }, { 'n': '华语', 'v': '华语' }, { 'n': '欧美', 'v': '欧美' }, { 'n': '国外', 'v': '国外' }, { 'n': '韩国', 'v': '韩国' }, { 'n': '日本', 'v': '日本' }, { 'n': '中国大陆', 'v': '中国大陆' }, { 'n': '中国香港', 'v': '中国香港' }, { 'n': '美国', 'v': '美国' }, { 'n': '英国', 'v': '英国' }, { 'n': '泰国', "\u0076": '泰国' }, { 'n': '中国台湾', 'v': '中国台湾' }, { 'n': '意大利', "\u0076": '意大利' }, { 'n': '法国', 'v': '法国' }, { 'n': '德国', 'v': '德国' }, { 'n': '西班牙', 'v': '西班牙' }, { 'n': '俄罗斯', 'v': '俄罗斯' }, { 'n': '瑞典', 'v': '瑞典' }, { 'n': '巴西', 'v': '巴西' }, { 'n': '丹麦', 'v': '丹麦' }, { 'n': '印度', 'v': '印度' }, { 'n': '加拿大', 'v': '加拿大' }, { 'n': '爱尔兰', 'v': '爱尔兰' }, { 'n': '澳大利亚', 'v': '澳大利亚' }] }, { 'key': 'sort', 'name': '排序', 'value': [{ 'n': '近期热度', 'v': 'T' }, { 'n': '首播时间', 'v': 'R' }, { 'n': '高分优先', 'v': 'S' }] }, { 'key': '年代', 'name': '年代', 'value': [{ 'n': '全部', 'v': '' }, { 'n': '2023', 'v': '2023' }, { 'n': '2022', 'v': '2022' }, { 'n': '2021', 'v': '2021' }, { 'n': '2020', 'v': '2020' }, { 'n': '2019', 'v': '2019' }, { 'n': '2010年代', 'v': '2010年代' }, { 'n': '2000年代', 'v': '2000年代' }, { 'n': '90年代', 'v': '90年代' }, { 'n': '80年代', 'v': '80年代' }, { 'n': '70年代', 'v': '70年代' }, { 'n': '60年代', 'v': '60年代' }, { 'n': '更早', 'v': '更早' }] }, { 'key': '平台', 'name': '平台', 'value': [{ "\u006e": '全部', 'v': '' }, { 'n': '腾讯视频', 'v': '腾讯视频' }, { 'n': '爱奇艺', 'v': '爱奇艺' }, { 'n': '优酷', 'v': '优酷' }, { 'n': '湖南卫视', 'v': '湖南卫视' }, { 'n': 'Netflix', 'v': 'Netflix' }, { 'n': 'HBO', 'v': 'HBO' }, { 'n': 'BBC', 'v': 'BBC' }, { 'n': 'NHK', 'v': 'NHK' }, { 'n': 'CBS', 'v': 'CBS' }, { 'n': 'NBC', 'v': 'NBC' }, { 'n': 'tvN', 'v': 'tvN' }] }], 'rank_list_movie': [{ 'key': '榜单', 'name': '榜单', "\u0076\u0061\u006c\u0075\u0065": [{ 'n': '实时热门电影', 'v': 'movie_real_time_hotest' }, { 'n': '一周口碑电影榜', 'v': 'movie_weekly_best' }, { 'n': '豆瓣电影Top250', 'v': 'movie_top250' }] }], 'rank_list_tv': [{ 'key': '榜单', 'name': '榜单', 'value': [{ 'n': '实时热门电视', 'v': 'tv_real_time_hotest' }, { 'n': '华语口碑剧集榜', 'v': 'tv_chinese_best_weekly' }, { 'n': '全球口碑剧集榜', 'v': 'tv_global_best_weekly' }, { 'n': '国内口碑综艺榜', 'v': 'show_chinese_best_weekly' }, { 'n': '国外口碑综艺榜', 'v': 'show_global_best_weekly' }] }] }, 'limit': 0x14, 'play_parse': ![], '推荐': '', '推荐': 'js:let\x20d=[];let\x20douban_api_host=\x22http://api.douban.com/api/v2\x22;let\x20miniapp_apikey=\x220ac44ae016490db2204ce0a042db2916\x22;const\x20count=30;function\x20miniapp_request(path,query){try{let\x20url=douban_api_host+path;query.apikey=miniapp_apikey;fetch_params.headers=oheaders;url=buildUrl(url,query);let\x20html=fetch(url,fetch_params);return\x20JSON.parse(html)}catch(e){print(\x22发生了错误:\x22+e.message);return{}}}function\x20subject_real_time_hotest(){try{let\x20res=miniapp_request(\x22/subject_collection/subject_real_time_hotest/items\x22,{});let\x20lists=[];let\x20arr=res.subject_collection_items||[];arr.forEach(function(item){if(item.type===\x22movie\x22||item.type===\x22tv\x22){let\x20rating=item.rating?item.rating.value:\x22暂无评分\x22;let\x20honnor=(item.honor_infos||[]).map(function(it){return\x20it.title}).join(\x22|\x22);lists.append({vod_id:\x22msearch:\x22+TYPE,vod_name:item.title||\x22\x22,vod_pic:item.pic.normal,vod_remarks:rating+\x22\x20\x22+honnor})}});return\x20lists}catch(e){print(\x22发生了错误:\x22+e.message);return[]}}VODS=subject_real_time_hotest();print(VODS);', 'lazy': '', '一级': '', '一级': 'js:let\x20d=[];let\x20douban=input.split(\x22douban=\x22)[1].split(\x22&\x22)[0];let\x20douban_api_host=\x22http://api.douban.com/api/v2\x22;let\x20miniapp_apikey=\x220ac44ae016490db2204ce0a042db2916\x22;const\x20count=30;function\x20miniapp_request(path,query){try{let\x20url=douban_api_host+path;query.apikey=miniapp_apikey;fetch_params.headers=oheaders;url=buildUrl(url,query);let\x20html=fetch(url,fetch_params);if(/request_error/.test(html)){print(html)}return\x20JSON.parse(html)}catch(e){print(\x22发生了错误:\x22+e.message);return{}}}function\x20cate_filter(d,douban){douban=douban||\x22\x22;try{let\x20res={};if(MY_CATE===\x22interests\x22){if(douban){let\x20status=MY_FL.status||\x22mark\x22;let\x20subtype_tag=MY_FL.subtype_tag||\x22\x22;let\x20year_tag=MY_FL.year_tag||\x22全部\x22;let\x20path=\x22/user/\x22+douban+\x22/interests\x22;res=miniapp_request(path,{type:\x22movie\x22,status:status,subtype_tag:subtype_tag,year_tag:year_tag,start:(MY_PAGE-1)*count,count:count})}else{return{}}}else\x20if(MY_CATE===\x22hot_gaia\x22){let\x20sort=MY_FL.sort||\x22recommend\x22;let\x20area=MY_FL.area||\x22全部\x22;let\x20path=\x22/movie/\x22+MY_CATE;res=miniapp_request(path,{area:area,sort:sort,start:(MY_PAGE-1)*count,count:count})}else\x20if(MY_CATE===\x22tv_hot\x22||MY_CATE===\x22show_hot\x22){let\x20stype=MY_FL.type||MY_CATE;let\x20path=\x22/subject_collection/\x22+stype+\x22/items\x22;res=miniapp_request(path,{start:(MY_PAGE-1)*count,count:count})}else\x20if(MY_CATE.startsWith(\x22rank_list\x22)){let\x20id=MY_CATE===\x22rank_list_movie\x22?\x22movie_real_time_hotest\x22:\x22tv_real_time_hotest\x22;id=MY_FL.榜单||id;let\x20path=\x22/subject_collection/\x22+id+\x22/items\x22;res=miniapp_request(path,{start:(MY_PAGE-1)*count,count:count})}else{let\x20path=\x22/\x22+MY_CATE+\x22/recommend\x22;let\x20selected_categories;let\x20tags;let\x20sort;if(Object.keys(MY_FL).length>0){sort=MY_FL.sort||\x22T\x22;tags=Object.values(MY_FL).join(\x22,\x22);if(MY_CATE===\x22movie\x22){selected_categories={\x22类型\x22:MY_FL.类型||\x22\x22,\x22地区\x22:MY_FL.地区||\x22\x22}}else{selected_categories={\x22类型\x22:MY_FL.类型||\x22\x22,\x22形式\x22:MY_FL.类型?MY_FL.类型+\x22地区\x22:\x22\x22,\x22地区\x22:MY_FL.地区||\x22\x22}}}else{sort=\x22T\x22;tags=\x22\x22;if(MY_CATE===\x22movie\x22){selected_categories={\x22类型\x22:\x22\x22,\x22地区\x22:\x22\x22}}else{selected_categories={\x22类型\x22:\x22\x22,\x22形式\x22:\x22\x22,\x22地区\x22:\x22\x22}}}let\x20params={tags:tags,sort:sort,refresh:0,selected_categories:stringify(selected_categories),start:(MY_PAGE-1)*count,count:count};res=miniapp_request(path,params)}let\x20result={page:MY_PAGE,pagecount:Math.ceil(res.total/count),limit:count,total:res.total};let\x20items=[];if(/^rank_list|tv_hot|show_hot/.test(MY_CATE)){items=res[\x22subject_collection_items\x22]}else\x20if(MY_CATE===\x22interests\x22){res[\x22interests\x22].forEach(function(it){items.push(it.subject)})}else{items=res.items}let\x20lists=[];items.forEach(function(item){if(item.type===\x22movie\x22||item.type===\x22tv\x22){let\x20rating=item.rating?item.rating.value:\x22\x22;let\x20rat_str=rating||\x22暂无评分\x22;let\x20title=item.title;let\x20honor=item.honor_infos||[];let\x20honor_str=honor.map(function(it){return\x20it.title}).join(\x22|\x22);let\x20vod_obj={vod_name:title!==\x22未知电影\x22?title:\x22暂不支持展示\x22,vod_pic:item.pic.normal,vod_remarks:rat_str+\x22\x20\x22+honor_str};let\x20vod_obj_d={url:item.type+\x22$\x22+item.id,title:title!==\x22未知电影\x22?title:\x22暂不支持展示\x22,pic_url:item.pic.normal,desc:rat_str+\x22\x20\x22+honor_str};lists.push(vod_obj);d.push(vod_obj_d)}});result.list=lists;return\x20result}catch(e){print(e.message)}return{}}let\x20res=cate_filter(d,douban);setResult2(res);', '二级': '', "\u641c\u7d22": '' };